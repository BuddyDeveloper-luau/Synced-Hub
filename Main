local Library = loadstring(game:HttpGet("https://raw.githubusercontent.com/vFishyTurtle/SN-Lib/main/src"))()
local lib = Library:CreateWindow({
    Title = "Sycned Hub"
})

local plr = game.Players.LocalPlayer

local tabs = {
    aimandesp = lib:NewTab({
        Name = "Aimbot And Esp"
    }),
    character = lib:NewTab({
        Name = "Player/Character"
    }),
    misc = lib:NewTab({
        Name = "Misc"
    }),
    credits = lib:NewTab({
        Name = "Credits"
    })
}

local sections = {
    aimandesp = tabs.aimandesp:NewSection({
        Name = "Aimbot And Esp"
    }),
    character = tabs.character:NewSection({
        Name = "Player/Character"
    }),
    misc = tabs.misc:NewSection({
        Name = "Misc"
    })
}

local toggles = {
    aimbot = sections.aimandesp:NewToggle({
        Name = "Aimbot",
        default = false,
        callback = function(v)
            local aimbotEnabled = v
            if aimbotEnabled then
                local function getClosestPlayer()
                    local closestPlayer = nil
                    local shortestDistance = math.huge

                    for _, player in pairs(game:GetService("Players"):GetPlayers()) do
                        if player ~= game:GetService("Players").LocalPlayer and player.Character and
                            player.Character:FindFirstChild("Head") then
                            local distance = (player.Character.Head.Position -
                                                 game:GetService("Players").LocalPlayer.Character.Head.Position).magnitude
                            if distance < shortestDistance then
                                closestPlayer = player
                                shortestDistance = distance
                            end
                        end
                    end

                    return closestPlayer
                end

                game:GetService("UserInputService").InputBegan:Connect(function(input, processed)
                    if not processed and input.KeyCode == Enum.KeyCode.Q then
                        aimbotEnabled = not aimbotEnabled
                        if aimbotEnabled then
                            print("Aimbot Enabled")
                        else
                            print("Aimbot Disabled")
                        end
                    end
                end)

                game:GetService("RunService").RenderStepped:Connect(function()
                    if aimbotEnabled then
                        local target = getClosestPlayer()
                        if target and target.Character and target.Character:FindFirstChild("Head") then
                            game.Workspace.CurrentCamera.CFrame = CFrame.new(
                                game.Workspace.CurrentCamera.CFrame.Position, target.Character.Head.Position)
                        end
                    end
                end)
            end
        end
    }),

    esp = sections.aimandesp:NewToggle({
        Name = "ESP",
        default = false,
        callback = function(v)
            espEnabled = v
            local function createESP(player)
                local highlight = Instance.new("Highlight")
                highlight.Adornee = player.Character
                highlight.FillColor = Color3.fromRGB(0, 255, 0) -- Green color for visibility
                highlight.OutlineColor = Color3.fromRGB(255, 255, 255) -- White outline for better contrast
                highlight.Parent = player.Character
            end

            local function onPlayerAdded(player)
                if player ~= LocalPlayer then
                    player.CharacterAdded:Connect(function()
                        if espEnabled then
                            createESP(player)
                        end
                    end)
                end
            end

            Players.PlayerAdded:Connect(onPlayerAdded)

            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer then
                    onPlayerAdded(player)
                end
            end

            for _, player in pairs(Players:GetPlayers()) do
                if player ~= LocalPlayer and player.Character then
                    if espEnabled then
                        createESP(player)
                    else
                        if player.Character:FindFirstChildOfClass("Highlight") then
                            player.Character:FindFirstChildOfClass("Highlight"):Destroy()
                        end
                    end
                end
            end
        end
    })
}

local sliders = {
    ws = tabs.character:NewSlider({
        Name = "Walkspeed",
        default = 50,
        min = 0,
        max = 100,
        callback = function(v)
            local plr = game.Players.LocalPlayer
            local plrchar = plr.Character
            if plrchar then
                local plrhum = plrchar:FindFirstChild("Humanoid")
                if plrhum then
                    plrhum.WalkSpeed = v
                end
            end
        end
    }),
    jp = tabs.character:NewSlider({
        Name = "Jump Power",
        default = 50,
        min = 0,
        max = 100,
        callback = function(v)
            local plr = game.Players.LocalPlayer
            local plrchar = plr.Character
            if plrchar then
                local plrhum = plrchar:FindFirstChild("Humanoid")
                if plrhum then
                    plrhum.JumpPower = v
                end
            end
        end
    })
}

local dropdowns = {tabs.credits:NewDropdown({
    Name = "Who Is The Best Developer?",
    options = {"ScriptedBuddy", "ScriptedBuddy", "ScriptedBuddy"},
    default = "ScriptedBuddy",
    callback = function(v)
        print("I know right, " .. v .. " is just the best")
    end
})}
